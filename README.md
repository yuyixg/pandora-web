<br />

<p align="center">
  <h3 align="center">æ½˜å¤šæ‹‰Web Â· PandoraWeb</h3>
  <p align="center">
    å¤æ´»å§ æˆ‘çš„Pandora
  </p>
  <p align="center">æ„Ÿè°¢åŸä½œè€…: 
      <a target="_blank" href="https://github.com/wozulong">Zhile(å§‹çš‡)</a>
        æºç åœ¨
      <a target="_blank" href="https://github.com/GavinGoo/pandora-web/tree/master">Master</a>
      åˆ†æ”¯
  </p>
</p>



## ä¸€ç¹ä¸ºå¿«

![login_new](https://github.com/GavinGoo/pandora-web/blob/dev/doc/images/login_new.jpg)

![chat_new](https://github.com/GavinGoo/pandora-web/blob/dev/doc/images/chat_new.jpg)

![login_old](https://github.com/GavinGoo/pandora-web/blob/dev/doc/images/login_old.png)

![PandoraNeverDie](https://github.com/GavinGoo/pandora-web/blob/dev/doc/images/PandoraNeverDie.png)





## ç›¸å…³ç‰¹æ€§

- ä¸¤å¥—UIä»»å›é€‰æ‹©ï¼Œéšæ„æ­é…
- æ”¯æŒè®¾ç½®ç«™ç‚¹å¯†ç 
- æ”¯æŒéš”ç¦»ç”¨æˆ·å¯¹è¯(éš”ç¦»ç é•¿åº¦ä¸å°‘äºå››ä½)
- æ”¯æŒè€Pandoraå¼çš„æ— å¯†ç ç›´æ¥è®¿é—®(è§åæ–‡é…ç½®è¯´æ˜)
- APIå¯¹è¯è‡ªåŠ¨ä¿å­˜
- é‡å®šå‘3.5/4æ¨¡å‹
- æºå¸¦å†å²å¯¹è¯(å¯å•ç‹¬å¯¹æ¨¡å‹è®¾å®šã€å¯è®¾ç½®å½“å†å²æ¶ˆæ¯æ•°é‡å¤§äºè®¾å®šæ•°é‡æ—¶ï¼Œè‡ªåŠ¨æºå¸¦ç¬¬ä¸€ç»„å†å²å¯¹è¯)
- æ¨¡å‹`Auth`è½®è¯¢
- å•ç‹¬æŒ‡å®šæ¨¡å‹çš„ç½‘ç»œä»£ç†
- è®¾å®šå†…ç½®Prompt
- éšè—(å‡åˆ é™¤)å¯¹è¯(é»˜è®¤,å¯æ›´æ”¹)
- ä»…OAI(ä»…æ”¯æŒ3.5/4oæ¨¡å‹)/APIæ¨¡å¼æˆ–äºŒè€…å…±å­˜è¿è¡Œ
- æ–‡ç”Ÿå›¾æ¨¡å‹å¯è°ƒç”¨å…¶ä»–æ–‡æœ¬æ¨¡å‹ä»¥ç”Ÿæˆ/ä¼˜åŒ–ä½ çš„ç»˜å›¾Prompt
- å¯¹äºæŸäº›ä»¥äºŒè¿›åˆ¶æ–‡ä»¶(Blobå¯¹è±¡)ä½œä¸ºå“åº”çš„æ–‡ç”Ÿå›¾æ¨¡å‹(æ¯”å¦‚Cloudflare AI)ï¼Œè‡ªåŠ¨ä¿å­˜å¹¶è½¬ä¸ºurlè¾“å‡º(è‹¥ä½¿ç”¨äº†CDNæœåŠ¡ï¼Œè¯·æ³¨æ„**æµé‡æ¶ˆè€—**)
- æ–‡ä»¶ä¸Šä¼ (æ”¯æŒä»¥Base64ç¼–ç /Urlæºå¸¦(éœ€å…¬ç½‘)ã€æ”¯æŒç±»å‹/å¤§å°é™åˆ¶)
- (3æœˆ24æ—¥)å¯ä»¥æœ¬åœ°ç½‘ç»œç¯å¢ƒä½¿ç”¨`Access Token`è¿›è¡Œ3.5å¯¹è¯ï¼Œè¯¦è§åæ–‡`æ›´æ–°æ—¥å¿—0324`éƒ¨åˆ†



**APIæ¨¡å‹æ”¯æŒï¼š**

- æ”¯æŒ3.5å…ç™»çš„[auroraé¡¹ç›®](https://github.com/aurora-develop/aurora)
- COP2GPT
- DALLÂ·E
- ChatGLM 4V
- ChatGLM 4
- [kimi-free-apié¡¹ç›®](https://github.com/LLM-Red-Team/kimi-free-api)
- [glm-free-apié¡¹ç›®](https://github.com/LLM-Red-Team/glm-free-api)(è¯·å°†`slug`å‚æ•°é…ç½®ä¸º`glm-free-api`)
- [emohaa-free-apié¡¹ç›®](https://github.com/LLM-Red-Team/emohaa-free-api)
- Gemini Pro
- Gemini Pro Vision
- Cloudflare AIæ–‡æœ¬æ¨¡å‹(**4æœˆ1æ—¥å¼€å§‹æ”¶è´¹**)
- Cloudflare AIæ–‡ç”Ÿå›¾æ¨¡å‹(`stable-diffusion-xl-base-1.0`, `dreamshaper-8-lcm`, `stable-diffusion-xl-lightning`)(**4æœˆ1æ—¥å¼€å§‹æ”¶è´¹**)
- æŸä¸ªè¿å¤œæ”¹æˆæ¯æœˆä»…å…è´¹50æ¡æ¶ˆæ¯çš„æ¨¡å‹
- å…¶ä»–OpenAIæ ‡å‡†è¾“å‡ºæ¨¡å‹





## é…ç½®è¯´æ˜

### ç¨‹åºå‚æ•°ï¼š

```
--email: æ‚¨çš„ OpenAI é‚®ç®±ã€‚
--password: æ‚¨çš„ OpenAI å¯†ç (ä¸å»ºè®®ç›´æ¥è®¾ç½®å¯†ç ï¼Œå¯ä»…é…ç½®Emailç„¶ååœ¨ç»ˆç«¯è¾“å…¥å¯†ç )ã€‚
--mfa: æ‚¨çš„ OpenAI MFAè®¤è¯ç ã€‚
--proxy_api: OpenAI å‰ç«¯çš„ä»£ç†åœ°å€ã€‚
--login_url: è·å–Access Tokençš„åœ°å€ã€‚
--site_password: ç½‘ç«™å¯†ç ã€‚å¦‚æœä»¥serveræ¨¡å¼å¯åŠ¨ï¼Œå¿…é¡»è®¾ç½®æ­¤é¡¹ã€‚
-p/--proxy: ä½¿ç”¨ä»£ç†ã€‚æ ¼å¼ä¸º protocol://user:pass@ip:portã€‚
--gpt4: ä» "api.json" æ–‡ä»¶ä¸­é€‰æ‹© GPT-4 çš„è¯·æ±‚æ¨¡å‹ã€‚
--gpt35: ä» "api.json" æ–‡ä»¶ä¸­é€‰æ‹© GPT-3.5 çš„è¯·æ±‚æ¨¡å‹ã€‚
--history_count: ä¸º API æºå¸¦çš„å†å²æ¶ˆæ¯æ•°é‡ã€‚é»˜è®¤ä¸º4ã€‚
--best_history: å½“å†å²æ¶ˆæ¯æ•°é‡å¤§äºè®¾å®šæ•°é‡æ—¶ï¼Œè‡ªåŠ¨æºå¸¦ç¬¬ä¸€ç»„å†å²å¯¹è¯ã€‚
--true_del: ã€çœŸæ­£ã€‘ä»æ•°æ®åº“ä¸­åˆ é™¤å¯¹è¯ï¼Œè€Œéå°†å…¶è®¾ä¸ºéšè—(is_visible=0)ã€‚
-l/--local: ä»…åœ¨æœ¬åœ°è¿è¡Œï¼Œä¸ä½¿ç”¨ OAI æœåŠ¡ã€‚
--timeout: è¯·æ±‚è¶…æ—¶ï¼Œé»˜è®¤60sï¼Œå•ä½(ç§’)ã€‚
--oai_only: ä»…ä½¿ç”¨ OAI æœåŠ¡ã€‚
-t/--token_file: æŒ‡å®šAccess Tokenæ–‡ä»¶ã€‚
--tokens_file: æŒ‡å®šä¸€ä¸ªå­˜æ”¾å¤šAccess Tokençš„æ–‡ä»¶è·¯å¾„ã€‚
--config_dir: æŒ‡å®šé…ç½®ç›®å½•å­˜æ”¾Access Tokençš„access_token.datæ–‡ä»¶ã€APIé…ç½®æ–‡ä»¶api.jsonã€æœ¬åœ°å¯¹è¯æ•°æ®åº“æ–‡ä»¶local_conversation.dbã€ä»¥äºŒè¿›åˆ¶æ–‡ä»¶(Blobå¯¹è±¡)ä½œä¸ºå“åº”çš„æ–‡ç”Ÿå›¾æ¨¡å‹å›¾ç‰‡ä¿å­˜ç›®å½•text2imgã€ç™»å½•ä¼šè¯ç›®å½•sessions(é»˜è®¤è·Ÿéšç³»ç»Ÿ,dockeråˆ™ä½äº/data)
-s/--server: ä½œä¸ºä¸€ä¸ªä»£ç†æœåŠ¡å™¨å¯åŠ¨ã€‚æ ¼å¼ä¸º ip:portï¼Œé»˜è®¤ä¸º 0.0.0.0:8008ã€‚
--threads: serveræ¨¡å¼çš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º8ã€‚
-a/--api: ä½¿ç”¨gpt-3.5-turbo èŠå¤© APIã€‚æ³¨æ„ï¼šOpenAI å°†ä¼šå‘æ‚¨æ”¶è´¹ã€‚
--login_local: ä½¿ç”¨æœ¬åœ°ç¯å¢ƒç™»å½•ï¼Œä½ å¯èƒ½éœ€è¦ä¸€ä¸ªåˆé€‚çš„ä»£ç†IPä»¥é¿å…è´¦å·è¢«é£æ§ï¼
-v/--verbose: æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ï¼Œä¸”å‡ºé”™æ—¶æ‰“å°å¼‚å¸¸å †æ ˆä¿¡æ¯ï¼Œä¾›æŸ¥é”™ä½¿ç”¨ã€‚
--old_login: ä½¿ç”¨è€Pandoraç™»é™†é¡µé¢ã€‚
--old_chat: ä½¿ç”¨è€PandoraèŠå¤©é¡µé¢ã€‚
--file_size: é™åˆ¶ä¸Šä¼ æ–‡ä»¶çš„å¤§å°ã€‚å•ä½ï¼šMBã€‚
--type_whitelist: é™åˆ¶ä¸Šä¼ æ–‡ä»¶çš„åç¼€å(ç™½åå•)ï¼Œä»¥è‹±æ–‡é€—å·","åˆ†éš”ã€‚
--type_blacklist: é™åˆ¶ä¸Šä¼ æ–‡ä»¶çš„åç¼€å(é»‘åå•)ï¼Œä»¥è‹±æ–‡é€—å·","åˆ†éš”ã€‚
--file_access: æ˜¯å¦å…è®¸å¤–ç½‘ç›´æ¥è®¿é—®æ–‡ä»¶(å¦‚æœå¯¹è¯å¸Œæœ›ä»¥urlæºå¸¦æ–‡ä»¶ï¼Œåˆ™éœ€è¦Trueå¯ç”¨)ã€‚é»˜è®¤ï¼šFalseã€‚
--device_id: å®˜æ–¹OAI3.5å¯¹è¯æ—¶è¯·æ±‚å¤´å‚æ•°"Oai-Device-Id", è‹¥ä¸é…ç½®åˆ™ä»ç”¨æˆ·æµè§ˆå™¨çš„è¯·æ±‚å¤´ä¸­è·å–ã€‚å¤šäººå…±äº«ã€å»ºè®®é…ç½®ã€‘ã€‚
--debug: æ‰“å°å‘é€æ¶ˆæ¯çš„è¯·æ±‚ä½“(å‰500å­—ç¬¦)ä¸æ”¶åˆ°çš„ç¬¬ä¸€æ¡å“åº”ã€‚
-i/--isolate: éš”ç¦»å¯¹è¯æ¨¡å¼(éš”ç¦»ç é•¿åº¦ä¸å°‘äºå››ä½)ã€‚
--isolate_master: ç®¡ç†å‘˜éš”ç¦»ç ã€‚æ­¤éš”ç¦»ç å…è®¸ç®¡ç†è€…æŸ¥çœ‹æ‰€æœ‰éš”ç¦»å¯¹è¯ã€‚
```



### ç¯å¢ƒå˜é‡ï¼š

1. `OPENAI_EMAIL`, `OPENAI_PASSWORD`,`OPENAI_MFA_CODE`: OAIè´¦å¯†ç›¸å…³(**ä¸å»ºè®®**ç›´æ¥è®¾ç½®å¯†ç ï¼Œå¯ä»…é…ç½®Emailç„¶ååœ¨ç»ˆç«¯è¾“å…¥å¯†ç )ã€‚
2. `OPENAI_API_PREFIX`: OpenAI å‰ç«¯çš„ä»£ç†åœ°å€ã€‚
3. `OPENAI_LOGIN_URL`: è·å–`Access Token`çš„åœ°å€ã€‚
4. `PANDORA_ACCESS_TOKEN`:  æŒ‡å®š`Access Token`æ–‡ä»¶ã€‚
5. `PANDORA_TOKENS_FILE`: æŒ‡å®šä¸€ä¸ªå­˜æ”¾å¤š`Access Token`çš„æ–‡ä»¶è·¯å¾„ã€‚
6. `USER_CONFIG_DIR`: æŒ‡å®šé…ç½®ç›®å½•å­˜æ”¾`Access Token`çš„`access_token.dat`æ–‡ä»¶ã€APIé…ç½®æ–‡ä»¶`api.json`ã€æœ¬åœ°å¯¹è¯æ•°æ®åº“æ–‡ä»¶`local_conversation.db`ã€ä»¥äºŒè¿›åˆ¶æ–‡ä»¶(Blobå¯¹è±¡)ä½œä¸ºå“åº”çš„æ–‡ç”Ÿå›¾æ¨¡å‹å›¾ç‰‡ä¿å­˜ç›®å½•`text2img`ã€ç™»å½•ä¼šè¯ç›®å½•`sessions`(é»˜è®¤è·Ÿéšç³»ç»Ÿï¼Œdockeråˆ™ä½äº/data)
7. `PANDORA_SERVER`: ä»¥`http`æœåŠ¡æ–¹å¼å¯åŠ¨ï¼Œæ ¼å¼ï¼š`ip:port`ï¼Œé»˜è®¤ï¼š`0.0.0.0:8008`ã€‚
8. `PANDORA_SITE_PASSWORD`: ç«™ç‚¹å¯†ç ï¼Œå¦‚æœä»¥serveræ¨¡å¼å¯åŠ¨è¯¥å€¼ä¸ºå¿…å¡«ã€‚
9. `OPENAI_MFA_CODE`: OpenAI çš„MFAè®¤è¯ç ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•° `--mfa` è®¾ç½®ã€‚
10. `PANDORA_PROXY`: ä»£ç†åœ°å€ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•° `--proxy` è®¾ç½®ã€‚
11. `PANDORA_GPT4_MODEL`: ä» "api.json" æ–‡ä»¶ä¸­é€‰æ‹©`GPT-4`æ¨¡å‹ã€‚
12. `PANDORA_GPT35_MODEL`: ä» "api.json" æ–‡ä»¶ä¸­é€‰æ‹©`GPT-3.5`æ¨¡å‹ã€‚
13. `PANDORA_HISTORY_COUNT`: è®¾ç½®å†å²æ¶ˆæ¯çš„æ•°é‡ï¼Œé»˜è®¤ä¸º`4`ã€‚
14. `PANDORA_BEST_HISTORY`: å½“å†å²æ¶ˆæ¯æ•°é‡å¤§äºè®¾å®šæ•°é‡æ—¶ï¼Œè‡ªåŠ¨æºå¸¦ç¬¬ä¸€ç»„å†å²å¯¹è¯ã€‚
15. `PANDORA_TRUE_DELETE`: **çœŸæ­£ä»æ•°æ®åº“ä¸­**åˆ é™¤å¯¹è¯ï¼Œè€Œéå°†å…¶è®¾ä¸ºéšè—(is_visible=0)ã€‚
16. `PANDORA_LOCAL_OPTION`: ä»…APIæ¨¡å¼ï¼Œä¸ä½¿ç”¨ OAI æœåŠ¡ã€‚
17. `PANDORA_TIMEOUT`: è¯·æ±‚è¶…æ—¶ï¼Œé»˜è®¤`60`sï¼Œå•ä½(ç§’)ã€‚
18. `PANDORA_OAI_ONLY`: ä»…ä½¿ç”¨ OAI æœåŠ¡ã€‚
19. `PANDORA_OLD_LOGIN`: ä½¿ç”¨è€Pandoraç™»é™†é¡µé¢ã€‚
20. `PANDORA_OLD_CHAT`: ä½¿ç”¨è€PandoraèŠå¤©é¡µé¢ã€‚
21. `PANDORA_FILE_SIZE`: é™åˆ¶ä¸Šä¼ æ–‡ä»¶çš„å¤§å°ã€‚å•ä½ï¼šMBã€‚
22. `PANDORA_TYPE_WHITELIST`: é™åˆ¶ä¸Šä¼ æ–‡ä»¶çš„åç¼€å(ç™½åå•)ï¼Œä»¥è‹±æ–‡é€—å·","åˆ†éš”ã€‚
23. `PANDORA_TYPE_BLACKLIST`: é™åˆ¶ä¸Šä¼ æ–‡ä»¶çš„åç¼€å(é»‘åå•)ï¼Œä»¥è‹±æ–‡é€—å·","åˆ†éš”ã€‚
24. `PANDORA_FILE_ACCESS`: æ˜¯å¦å…è®¸å¤–ç½‘ç›´æ¥è®¿é—®æ–‡ä»¶(å¦‚æœå¯¹è¯å¸Œæœ›ä»¥urlæºå¸¦æ–‡ä»¶ï¼Œåˆ™éœ€è¦Trueå¯ç”¨)ã€‚é»˜è®¤ï¼š`False`ã€‚
25. `OPENAI_DEVICE_ID`: å®˜æ–¹OAI3.5å¯¹è¯æ—¶è¯·æ±‚å¤´å‚æ•°"Oai-Device-Id", è‹¥ä¸é…ç½®åˆ™ä»ç”¨æˆ·æµè§ˆå™¨çš„è¯·æ±‚å¤´ä¸­è·å–ã€‚å¤šäººå…±äº«**å»ºè®®é…ç½®**ã€‚
26. `PANDORA_API`: ä½¿ç”¨`gpt-3.5-turbo`APIè¯·æ±‚ï¼Œ**ä½ å¯èƒ½éœ€è¦å‘`OpenAI`æ”¯ä»˜è´¹ç”¨**ã€‚
27. `PANDORA_LOGIN_LOCAL`: ä½¿ç”¨æœ¬åœ°ç¯å¢ƒç™»å½•ï¼Œ**ä½ å¯èƒ½éœ€è¦ä¸€ä¸ªåˆé€‚çš„ä»£ç†IPä»¥é¿å…è´¦å·è¢«é£æ§ï¼**
28. `PANDORA_VERBOSE`: æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ï¼Œä¸”å‡ºé”™æ—¶æ‰“å°å¼‚å¸¸å †æ ˆä¿¡æ¯ï¼Œä¾›æŸ¥é”™ä½¿ç”¨ã€‚
29. `PANDORA_THREADS`: serveræ¨¡å¼çš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤ä¸º`8`ã€‚
30. `PANDORA_CLOUD`: Pandora Cloudæ¨¡å¼(åŸå‚æ•°ï¼Œä¸çŸ¥è¿˜å¯ç”¨å¦?)ã€‚
31. `PANDORA_SERVERLESS`: verceléƒ¨ç½²è¯·å¯ç”¨ï¼Œå°†`api.json`æŒ‡å‘é¡¹ç›®æ ¹ç›®å½•çš„`data`æ–‡ä»¶å¤¹(è¯·ä¸è¦å°†å¯†é’¥ç›´æ¥å¡«å†™åˆ°æ–‡ä»¶)
32. `PANDORA_DEBUG`: å¯è®¾ç½®`True`ä»¥æ‰“å°å‘é€æ¶ˆæ¯çš„è¯·æ±‚ä½“(å‰500å­—ç¬¦)ä¸æ”¶åˆ°çš„ç¬¬ä¸€æ¡å“åº”
33. `PANDORA_ISOLATION`: å¯è®¾ç½®`True`ä»¥å¯ç”¨éš”ç¦»å¯¹è¯æ¨¡å¼(éš”ç¦»ç é•¿åº¦ä¸å°‘äºå››ä½)ã€‚
34. `PANDORA_ISOLATION_MASTERCODE`: ç®¡ç†å‘˜éš”ç¦»ç ã€‚æ­¤éš”ç¦»ç å…è®¸ç®¡ç†è€…æŸ¥çœ‹æ‰€æœ‰éš”ç¦»å¯¹è¯ã€‚

> ä½¿ç”¨Dockerä»…é…ç½®ç¯å¢ƒå˜é‡å³å¯ï¼Œæ— è§†ä¸Šè¿°`ç¨‹åºå‚æ•°`ã€‚
>
> å¦‚æœæƒ³å®ç°è€Pandoraæ— ç™»å½•åŠŸèƒ½ç‚¹å¼€å³ç”¨ï¼Œå°†`--site_password`/`PANDORA_SITE_PASSWORD`è®¾ç½®ä¸º`I_KNOW_THE_RISKS_AND_STILL_NO_SITE_PASSWORD`å³å¯(è¿™å¯èƒ½æ˜¯ä¸ªå±é™©è®¾ç½®ï¼Œè¯·æ³¨æ„)ã€‚



### APIé…ç½®ï¼š

ä½¿ç”¨`api.json`æ–‡ä»¶é…ç½®ï¼Œé»˜è®¤ä½äºç”¨æˆ·é…ç½®ç›®å½•ï¼Œå¯é€šè¿‡ç¯å¢ƒå˜é‡`USER_CONFIG_DIR`æˆ–ç¨‹åºå‚æ•°`config_dir`è®¾ç½®

> é»˜è®¤ç”¨æˆ·é…ç½®ç›®å½•ï¼š
>
> Mac OS X: same as user_data_dir (Python appdirsæ¨¡å—çš„è¯´æ˜)
> Unix: ~/.config/Pandora-ChatGPT # or in $XDG_CONFIG_HOME, if defined
> Win : C:\Users\\`<User Name>`\AppData\Local\Pandora-ChatGPT\Pandora-ChatGPT
>
> æ— è®ºæ˜¯å¦è®¾ç½®ï¼Œå¯åŠ¨æ—¶éƒ½ä¼šæŠŠè·¯å¾„æ‰“å°å‡ºæ¥

ä»¥ä¸‹æ˜¯å‚è€ƒæ¨¡æ¿ï¼š

```json
{
    "glm-4v": {
        "slug": "glm-4v",
        "url": "https://open.bigmodel.cn/api/paas/v4/chat/completions",
        "auth": "<æ™ºè°±AI Token>",
        "title": "ChatGLM-4V",
        "description": "ChatGLM-4V",
        "upload": true,
        "file_base64": true,
        "history_count": 10,
        "max_tokens": 8191 
    },
    "kimi": {
        "slug": "kimi",
        "url": "http://172.17.0.1:8000/v1/chat/completions",
        "auth": "<Your Refresh Token>",
        "title": "Kimi",
        "description": "Kimi",
        "upload": true,
        "max_tokens": 8191 
    },
    "coze": {
        "slug": "coze",
        "url": "<Coze-Discord-Proxy Url>",
        "auth": "<Coze-Discord-Proxy AUTH>",
        "title": "Coze(å¯è”ç½‘)",
        "description": "https://coze.com",
        "max_tokens": 8191 
    },
    "glm-4": {
        "slug": "glm-4",
        "url": "https://open.bigmodel.cn/api/paas/v4/chat/completions",
        "auth": "<æ™ºè°±AI Token>",
        "title": "ChatGLM-4",
        "description": "ChatGLM-4",
        "max_tokens": 8191 
    },
    "cogview-3": {
        "slug": "cogview-3",
        "url": "https://open.bigmodel.cn/api/paas/v4/images/generations",
        "auth": "<æ™ºè°±AI Token>",
        "title": "CogView(æ–‡ç”Ÿå›¾|æ”¶è´¹)",
        "description": "åˆšå¼€å§‹æ²¡ç•™æ„è¿™ç©æ„ä¸æ˜¯æ¶ˆè€—tokené¢åº¦ï¼Œç°åœ¨å€’æ¬ 3å—å¤§æ´‹è¿˜æ²¡è¿˜",
        "max_tokens": 8191 
    },
    "gemini-pro": {
        "slug": "gemini-pro",
        "url": "https://generativelanguage.googleapis.com/v1/models/gemini-pro:streamGenerateContent?key=<Your Google AI Key>",
        "title": "Gemini-Pro",
        "description": "Gemini-Pro",
        "max_tokens": 8191 
    },
    "llama-2-7b-chat-fp16": {
        "slug": "llama-2-7b-chat-fp16",
        "url": "https://api.cloudflare.com/client/v4/accounts/<Your Cloudflare Account ID>/ai/run/@cf/meta/llama-2-7b-chat-fp16",
        "auth": "<Your Cloudflare AI Key>",
        "title": "llama-2-7b-chat-fp16",
        "description": "llama-2-7b-chat-fp16",
        "max_tokens": 8191 
    },
    "stable-diffusion-xl-base-1.0": {
        "slug": "stable-diffusion-xl-base-1.0",
        "url": "https://api.cloudflare.com/client/v4/accounts/<Your Cloudflare Account ID>/ai/run",
        "image_model": "@cf/stabilityai/stable-diffusion-xl-base-1.0",
        "prompt_model": "glm-4",
        "prompt": "You are a professional ai prompt generator, now please seriously realize the scene and atmosphere of the text and generate an AI drawing prompt about '<Prompt>', please don't show any Chinese, if there is any Chinese, it will be automatically translated to English. Finally, you can output the main content of the prompt directly.",
        "auth": "<Your Cloudflare AI Key>",
        "title": "cfai(æ–‡ç”Ÿå›¾)",
        "description": "cfai(æ–‡ç”Ÿå›¾)",
        "max_tokens": 8191 
    },
    "gpt-4": {
        "slug": "gpt-4",
        "url": "<Your API Url>",
        "auth": ["é¸¡", "ä½ ", "å¤ª", "ç¾"],
        "prompt": "You use the GPT-4 version of OpenAIâ€™s GPT models.Respond in the following locale: zh-cn.",
        "title": "GPT-4",
        "description": "GPT-4",
        "max_tokens": 8191 
    }
}
```

> å‚æ•°è¯´æ˜ï¼š
>
> `é”®å€¼`: å¯ä¸ºåŒæ¨¡å‹ä¸åŒæ¥æºè€Œä½œåŒºåˆ†
>
> `slug`: è¯·æ±‚æ—¶çš„æ¨¡å‹å ~~(è¯·ä¸é”®å€¼ä¿æŒä¸€è‡´)~~
>
> `url`: æ¨¡å‹è¯·æ±‚çš„url
>
> `auth`: æ¨¡å‹è¯·æ±‚çš„éªŒè¯å¤´(æ™ºè°±å®¶çš„ä¸æŸæ¨¡å‹ä¼šè‡ªåŠ¨å¤„ç†(`slug`éœ€åŒ…å«å…³é”®è¯æ¯”å¦‚`glm`)ï¼Œç›´æ¥å¡«å…¥ä½ çš„Keyå³å¯)æ— åˆ™ä¸å†™`auth`è¿™ä¸ªé”®ï¼Œæ¯”å¦‚Geminiã€‚**è½®è¯¢**è¯·å‚ç…§`gpt-4`æ¨¡å‹å¡«å†™
>
> `proxy`: æŒ‡å®šè¯¥æ¨¡å‹ä½¿ç”¨çš„ç½‘ç»œä»£ç†(**ä¼˜å…ˆçº§æœ€é«˜**)(å¦‚æœä½¿ç”¨Dockerä¸”ç½‘ç»œæ¨¡å¼éhost,æŒ‡å‘æœ¬æœºæ—¶è¯·ä½¿ç”¨`172.17/18.0.1`æˆ–å†…ç½‘IP)ï¼Œå¯è®¾ç½®ä¸º`""`æ„å‘³ç€è¯¥æ¨¡å‹ä¸èµ°ä»£ç†
>
> `prompt`: ä½ çš„å†…ç½®Prompt
>
> `title`: å‰ç«¯é¡µé¢ä¸Šçš„æ¨¡å‹æ˜¾ç¤ºåç§°
>
> `description`: è€Pandoraé¡µé¢ä¸Šçš„æ¨¡å‹æè¿°
>
> `history_count`: è®¾ç½®å†å²æ¶ˆæ¯çš„æ•°é‡ï¼Œä¼˜å…ˆçº§æœ€é«˜
>
> `upload`: `true` å¯ç”¨æ–‡ä»¶ä¸Šä¼ ï¼Œå¦‚éœ€ä»¥Urlæºå¸¦è¯·é…ç½®`file_access`å‚æ•°/`PANDORA_FILE_ACCESS`ç¯å¢ƒå˜é‡ä¸º`True`
>
> `file_base64`: `true` æ–‡ä»¶ä»¥Base64ç¼–ç 
>
> `max_tokens`: (ä¸çŸ¥é“å•¥ç©æ„ï¼Œå®˜æ–¹æœ‰æˆ‘ä¹Ÿå°±é¡ºä¾¿å¸¦ä¸Šäº†)
>
> ç‰¹æ®Šå‚æ•°ï¼š
>
> `prompt_model`: æŒ‡å®š**æ–‡æœ¬æ¨¡å‹**ç”Ÿæˆ/ä¼˜åŒ–ç»˜å›¾Prompt(ä½¿ç”¨**éæµå¼**è¯·æ±‚)ï¼Œæ­¤æ—¶`prompt`æ”¯æŒä½¿ç”¨"`<Prompt>`"ä½œä¸ºåŸPromptçš„å ä½ç¬¦ï¼Œå½“å ä½ç¬¦ä¸å­˜åœ¨æ—¶åˆ™è‡ªåŠ¨å°†åŸPromptè¿½åŠ åˆ°æ–‡æœ«(å¦‚æœæ–‡ç”Ÿå›¾æ¨¡å‹éCloudflare AI å³urlé`"https://api.cloudflare.com/client/v4/accounts/<Your Cloudflare Account ID>/ai/run"`ï¼Œåˆ™ä¸æ”¯æŒCloudflare AIçš„æ–‡æœ¬æ¨¡å‹)
>
> `image_model`: ä»…ç”±ç”¨äºCloudflare AIæ–‡ç”Ÿå›¾æ¨¡å‹ï¼Œå¡«å…¥`Model ID`ã€‚æ ¼å¼ï¼š`"@cf/***/<model>"`ï¼Œå‚è§ï¼š`"https://developers.cloudflare.com/workers-ai/models/<model>"`





## å¦‚ä½•è¿è¡Œ

- æœ¬åœ°è¿è¡Œ

  Pythonç‰ˆæœ¬æœ€å¥½åœ¨`3.8`åŠä»¥ä¸Š(æˆ‘çš„ç‰ˆæœ¬ä¸º3.10.0)

  è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œè¿è¡Œï¼š

  ```
  # å®‰è£…ä¾èµ–
  pip install --no-cache-dir -r requirements.txt
  
  # 0324ä½¿ç”¨OAIæœåŠ¡(å…ˆå°†Access Tokenå¡«å…¥access_token.datæ–‡ä»¶)ï¼š
  ## å¦‚æœä¸å¸Œæœ›APIæ¨¡å‹èµ°ä»£ç†ï¼Œå¯åœ¨api.jsonæ–‡ä»¶ä¸­ä¸ºæ¯ä¸ªæ¨¡å‹é…ç½®: "proxy":""
  python -m src.pandora.launcher -s \
  --proxy_api https://chat.openai.com \
  -p <ä½ çš„ç½‘ç»œä»£ç†åœ°å€> \
  --device_id <OAIå®˜æ–¹å‰ç«¯å‘é€å¯¹è¯çš„è¯·æ±‚å¤´å‚æ•°"Oai-Device-Id"> \
  --site_password <Your Site Password> \
  --history_count 10 \
  --best_history
  
  # å¯ç”¨OAIæœåŠ¡ï¼š
  python -m src.pandora.launcher -s --email <Your OAI Email> --proxy_api <Your OAI Service Proxy Endpoint> --login_url <Get Access Token Url> --site_password <Your Site Password> --history_count 10
  
  # ä»…APIæ¨¡å¼ï¼š
  python -m src.pandora.launcher -s -l --site_password <Your Site Password>
  ```
  
  > åå°è¿è¡Œï¼š`nohup python -m src.pandora.launcher -s -l --site_password <Your Site Password> &`
  
  
  
- Docker Hub è¿è¡Œ

  ```
  docker pull ghcr.io/gavingoo/pandora-web:dev
  ```

  ```
  # 0324ä½¿ç”¨OAIæœåŠ¡(å…ˆå°†Access Tokenå¡«å…¥access_token.datæ–‡ä»¶)ï¼š
  ## å¦‚æœä¸å¸Œæœ›APIæ¨¡å‹èµ°ä»£ç†ï¼Œå¯åœ¨api.jsonæ–‡ä»¶ä¸­ä¸ºæ¯ä¸ªæ¨¡å‹é…ç½®: "proxy":""
  docker run -d -p 8008:8008 --restart=unless-stopped --name pandoraweb \
  -e PANDORA_SERVER=0.0.0.0:8008 \
  -e PANDORA_SITE_PASSWORD=<Your Site Password> \
  -e OPENAI_API_PREFIX=https://chat.openai.com \
  -e OPENAI_DEVICE_ID=<OAIå®˜æ–¹å‰ç«¯å‘é€å¯¹è¯çš„è¯·æ±‚å¤´å‚æ•°"Oai-Device-Id"> \
  -e PANDORA_PROXY=<ä½ çš„ç½‘ç»œä»£ç†åœ°å€> \
  -e PANDORA_HISTORY_COUNT=10 \
  -e PANDORA_BEST_HISTORY=True \
  -v $PWD/pandora_web_data:/data \
  ghcr.io/gavingoo/pandora-web:dev
  
  # ä»…APIæ¨¡å¼ï¼š
  docker run -d -p 8008:8008 --restart=unless-stopped --name pandoraweb \
  -e PANDORA_SERVER=0.0.0.0:8008 \
  -e PANDORA_SITE_PASSWORD=<Your Site Password> \
  -e PANDORA_HISTORY_COUNT=10 \
  -e PANDORA_BEST_HISTORY=True \
  -e PANDORA_LOCAL_OPTION=True \
  -v $PWD/pandora_web_data:/data \
  ghcr.io/gavingoo/pandora-web:dev
  	
  # å¯ç”¨OAIæœåŠ¡ï¼š
  docker run -d -p 8008:8008 --restart=unless-stopped --name pandoraweb \
  -e PANDORA_SERVER=0.0.0.0:8008 \
  -e PANDORA_SITE_PASSWORD=<Your Site Password> \
  -e OPENAI_EMAIL=<Your OAI Email> \
  -e OPENAI_PASSWORD=<Your OAI Password> \
  -e OPENAI_API_PREFIX=<Your OAI Service Proxy Endpoint> \
  -e OPENAI_LOGIN_URL=<Get Access Token Url> \
  -e PANDORA_HISTORY_COUNT=10 \
  -e PANDORA_BEST_HISTORY=True \
  -v $PWD/pandora_web_data:/data \
  ghcr.io/gavingoo/pandora-web:dev
  ```

  

- Docker ç¼–è¯‘è¿è¡Œ

  ```
  git clone -b dev https://github.com/GavinGoo/pandora-web.git
  cd pandora-web
  docker build -t pandoraweb .
  ```

  

- Nginx åå‘ä»£ç†é…ç½®
  
  ```
    location / {
            proxy_http_version 	1.1;
            proxy_pass 		http://IP:Port;
            proxy_set_header	Connection		"";
            proxy_set_header   	Host			$http_host;
            proxy_set_header 	X-Forwarded-Proto 	$scheme;
            proxy_set_header   	X-Real-IP          	$remote_addr;
            proxy_set_header   	X-Forwarded-For    	$proxy_add_x_forwarded_for;
  
            proxy_buffering off;
            proxy_cache off;
            chunked_transfer_encoding on;
            tcp_nopush on;
            tcp_nodelay on;
        		
            send_timeout 600;
            proxy_connect_timeout 600;
            proxy_send_timeout 600;
            proxy_read_timeout 600;
            proxy_headers_hash_max_size 51200;
            proxy_headers_hash_bucket_size 6400;
    }
  ```



## å…¶ä»–è¯´æ˜

* æœ¬äºŒæ”¹é¡¹ç›®æ˜¯ç«™åœ¨åŸä½œè€…[Zhile](https://github.com/wozulong)ä¸å…¶ä»–å·¨äººçš„è‚©è†€ä¹‹ä¸Šï¼Œæ„Ÿè°¢ï¼ï¼
* æ„Ÿè°¢[EmccK](https://github.com/EmccK)ã€Lin Gooä½¬å‹å¯¹æœ¬é¡¹ç›®çš„å¸®åŠ©

* æœ¬äººçš„ä»£ç æ°´å¹³å¤ªè¿‡ç³Ÿç³•ï¼Œåœ¨æ­¤è¡¨ç¤ºæŠ±æ­‰

* æœ€è¿‘è¿™æ®µæ—¶é—´é™¤éé‡è¦Bugå¤–å¯èƒ½å®åœ¨æ²¡ç©ºç»´æŠ¤



## æ›´æ–°æ—¥å¿—

### 0601 (è¯·åŠ¡å¿…æ›´æ–°ï¼ï¼)ï¼š

- **fix é‡å¤§å®‰å…¨æ¼æ´ï¼šæœªç™»å½•çš„æƒ…å†µä¸‹ä¾ç„¶å¯ä»¥è®¿é—®APIï¼Œå¯¼è‡´å¯¹è¯æ¥å£è¢«è½¬API**

### 0516ï¼š

- æ”¯æŒOAI `GPT-4o`æ¨¡å‹
  - éä»…APIæ¨¡å¼ æˆ– æœªæŒ‡å®šå‰ç«¯GPT-4çš„å®é™…è¯·æ±‚æ¨¡å‹æ—¶ï¼Œè¯·åœ¨æ¨¡å‹åˆ—è¡¨ä¸­é€‰æ‹©ç¬¬ä¸€é¡¹ï¼š`GPT-4`ã€‚
  - æ— è®ºè´¦å·æ˜¯å¦æ”¯æŒ`GPT-4o`æ¨¡å‹/è¢«é£æ§æš‚ä¸å¯è§ï¼Œéƒ½ä¼šå¼ºè¡Œè¯·æ±‚ã€‚ä½†å®é™…å…·ä½“æ˜¯å¦ä¸ºGPT-4oå›ç­”**è§†ä¹äºOAIå®˜æ–¹**ã€‚å¦‚æœè´¦å·æœ¬èº«ä¸æ”¯æŒ`GPT-4o`æ¨¡å‹(**ä»æ¥æ²¡å‡ºç°è¿‡åŠ¨æ€æ¨¡å¼**)ï¼Œåˆ™å›ç­”å¿…ç„¶æ˜¯3.5ã€‚å¦‚æœæ¬¡æ•°æ¶ˆè€—å®Œåï¼Œå›ç­”ä¹Ÿå¿…ç„¶æ˜¯3.5ã€‚
  - ç»æµ‹è¯•ï¼Œè‹¥è´¦å·**è¢«é£æ§**æš‚ä¸å¯è§(åœ¨å®˜ç½‘è¡¨ç°ä¸º**åªæœ‰3.5å¯é€‰ï¼ŒåŠ¨æ€æ¨¡å¼æ¶ˆå¤±ï¼Œæ¨¡å‹æ¥å£ä¹Ÿåªæœ‰3.5**)ï¼Œå›ç­”ä¾ç„¶å¯ä»¥æ˜¯`GPT-4o`ã€‚
  - å½“åŒæ—¶å¯ç”¨OAIä¸APIæ¨¡å¼æ—¶ï¼Œè‹¥**APIæ¨¡å‹**åˆšå¥½å­˜åœ¨**å®Œå…¨åŒå**çš„`gpt-4o`æ¨¡å‹ï¼Œå‰ç«¯æ¨¡å‹åˆ—è¡¨ä¸å¯¹è¯ä¿å­˜å°†æ˜¾ç¤ºä¸º`gpt-4o-api`ï¼Œè¯·æ±‚å¯¹è¯æ—¶ä¼šè‡ªåŠ¨æ›¿æ¢å›`gpt-4o`ï¼Œæ— éœ€æ‹…å¿ƒã€‚
- è¡¥å…¨éš”ç¦»æ¨¡å¼ä¸‹ OAIå¯¹è¯çš„åˆ é™¤ä¸æ ‡é¢˜é‡å‘½ååŠŸèƒ½
  - ä¹‹å‰å¿˜è®°äº†ï¼Œéå¸¸æŠ±æ­‰ğŸ™ğŸ¼
- éš”ç¦»æ¨¡å¼ä¸‹ä½¿ç”¨è®¾å®šçš„ç®¡ç†å‘˜éš”ç¦»ç è¿›å…¥ï¼Œå¯æŸ¥çœ‹éšè—å¯¹è¯(æ ‡é¢˜å‰å¸¦ğŸ”’æ ‡å¿—)
- ç”±äºä¸ªäººèƒ½åŠ›é—®é¢˜ï¼Œæš‚æ—¶æ— æ³•å®ç°æ–‡ä»¶ä¸Šä¼ ï¼Œéå¸¸æŠ±æ­‰ğŸ™ğŸ¼

### 0507ï¼š

- ä¿®å¤OAI 3.5å¯¹è¯
- ä¿®å¤å¯èƒ½å¯¼è‡´éš”ç¦»å¯¹è¯å¤±è´¥çš„é—®é¢˜
- ä¿®å¤ä»…OAIæ¨¡å¼æ— æ³•å¯åŠ¨çš„é—®é¢˜

### 0505ï¼š

- æ”¯æŒéš”ç¦»ç”¨æˆ·å¯¹è¯(Isolation Code)(éš”ç¦»ç é•¿åº¦ä¸å°‘äºå››ä½)
  - ä½¿ç”¨`-i/--isolate`å‚æ•°æˆ–è®¾ç½®ç¯å¢ƒå˜é‡`PANDORA_ISOLATION=True`ä»¥å¯ç”¨
- Chaté¡µé¢æ›¿æ¢äº†æ›´å®ç”¨çš„Prompt(é€»è¾‘å¼ºåŒ–ã€æ–‡ç« å¤è¿°ä¸åˆ†æã€ç¿»è¯‘ã€è®ºæ–‡æ¶¦è‰²)
  - é€»è¾‘å¼ºåŒ–ï¼šTake a deep breath and think step by step...  [æ¥æº](https://linux.do/t/topic/68360?u=manager)
  - æ–‡ç« å¤è¿°ä¸åˆ†æï¼šåˆ©ç”¨5W2Håˆ†ææ³•å¯¹æ–‡ç« è¿›è¡Œæ·±å…¥çš„è§£è¯»å’Œæ€»ç»“ã€‚[æ¥æº](https://linux.do/t/topic/68360?u=manager)
  - ç¿»è¯‘ï¼šè‹±è¯‘ä¸­, ç›´è¯‘å†æ„è¯‘ã€‚
  - è®ºæ–‡æ¶¦è‰²ï¼šè®ºæ–‡æ¶¦è‰²å†™ä½œ, å¹¶è¦æ±‚é‡å¤ç‡ä½äº10%ã€‚[æ¥æº](https://linux.do/t/topic/29874/2?u=manager)
- æ¨¡å‹é€‰æ‹©åˆ—è¡¨çš„å­èœå•"Alpha Models"æ›¿æ¢ä¸º"Other Models"

### 0412ï¼š

- ä¿®å¤ä½¿ç”¨[auroraé¡¹ç›®](https://github.com/aurora-develop/aurora)æ—¶å¯¹è¯å¼‚å¸¸
- ä¿®å¤ä¸æ˜¾ç¤ºé‡æ–°ç”Ÿæˆçš„å¯¹è¯
- ä¿®å¤è§¦å‘`BEST_HISTORY`æ—¶å‡ºé”™

### 0404ï¼š

- ä¿®å¤è€æ½˜å¤šæ‹‰UIçš„å¯¹è¯é—®é¢˜
- æ›´å¥½çš„é”™è¯¯æ—¥å¿—è¾“å‡º
- ç”±äºå®˜æ–¹3.5åˆä»wsæ”¹å›sseï¼Œå› æ­¤ä¸å†è¯·æ±‚`register-websocket`æ¥å£

### 0401ï¼š

- æ–°å¢æ”¯æŒå®˜æ–¹APIã€DALLÂ·E
- ä¿®å¤å½“è¯·æ±‚å‡ºé”™åé‡æ–°è¯·æ±‚ï¼Œé”™è¯¯åœ°è§¦å‘äº†æ–°å»ºå¯¹è¯(è¡¨ç°ä¸ºå‡ºç°é‡å¤æ ‡é¢˜çš„å¯¹è¯ä½†æ— æ³•æ‰“å¼€)çš„é—®é¢˜

### 0328ï¼š

- ä¿®å¤å½“å¯ç”¨OAIæœåŠ¡æ—¶è‹¥è¯·æ±‚`register-websocket`æŠ¥é”™429ï¼Œç”±äºç›´æ¥è¿”å›äº†å“åº”(OAIçš„æŠ¥é”™é¡µ)å¯¼è‡´æ³„éœ²(ä»£ç†)IPçš„**ä¸¥é‡å®‰å…¨é—®é¢˜**ï¼Œè¯·**å…¬ç½‘æ­å»º**çš„ä½¬å‹åŠ¡å¿…æ›´æ–°ï¼ŒåŒæ—¶åœ¨æ­¤è‡´æ­‰ !
- ä¿®å¤å¤šè½®å¯¹è¯å¯èƒ½å‡ºç°æŠ¥é”™`sqlite3.OperationalError: no such table: conversations_file`å¹¶å¯¼è‡´å¼‚å¸¸çš„BUG

### 0324ï¼š

- ä¿®å¤å¯¹è¯åˆ—è¡¨æ— æ³•åŠ è½½58æ¡ä¹‹åçš„è®°å½•
- ä¿®å¤OAI3.5å¯¹è¯
  - éœ€è¦ä½¿ç”¨æœ¬åœ°ç½‘ç»œç¯å¢ƒ(å¯è®¾ç½®ä»£ç†)ï¼Œå°†å‚æ•°`proxy_api`/ç¯å¢ƒå˜é‡`OPENAI_API_PREFIX`é…ç½®ä¸º`https://chat.openai.com`ï¼ŒæŠŠ`Access Token`å¡«å…¥/æ›´æ–°åˆ°ç”¨æˆ·é…ç½®ç›®å½•(å³`api.json`æ‰€åœ¨ç›®å½•)ä¸‹çš„`access_token.dat`æ–‡ä»¶ã€‚
  - **å¼ºçƒˆå»ºè®®**ä¼ å…¥è¯·æ±‚å¤´å‚æ•°"Oai-Device-Id"
  - è¯·åŠ¡å¿…æ³¨æ„**ç¯å¢ƒé£æ§**ï¼Œ**ä»…**å»ºè®®ä½¿ç”¨**æ— ä»·å€¼è´¦å·**
- æ”¯æŒæ–‡ä»¶ä¸Šä¼ (ä»¥Base64ç¼–ç /Urlæºå¸¦(éœ€å…¬ç½‘)ã€æ”¯æŒç±»å‹/å¤§å°é™åˆ¶)
- æ”¯æŒ[kimi-free-api](https://github.com/LLM-Red-Team/kimi-free-api)ã€[glm-free-api](https://github.com/LLM-Red-Team/glm-free-api)ã€[emohaa-free-api](https://github.com/LLM-Red-Team/emohaa-free-api)é¡¹ç›®
- å‰ç«¯ç›´æ¥æ˜¾ç¤ºæ¥å£æŠ¥é”™å†…å®¹
- å°†GPT4å½é‡Œå‘±å•¦çš„æ¨¡å‹è¯´æ˜æ”¹ä¸º"Be more powerful"ï¼Œç®€æ´æœ‰åŠ›
- å»æ‰"Upgrade plan"æŒ‰é’®
- å°è¯•æ”¯æŒVerceléƒ¨ç½²(è¿˜æœªæµ‹è¯•)
